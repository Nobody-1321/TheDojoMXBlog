I"O+<p>En el <a href="/2019/05/06/diseno-y-desarrollo-de-una-api-desde-cero.html">art√≠culo anterior de la serie</a> hablamos un poco de lo que es una API REST. En este art√≠culo empezaremos a ver qu√© es REST y por qu√© surgi√≥.</p>

<p>Antes de empezar con lo nuestro, hablemos de lo que NO es una API REST.</p>

<h2 id="esto-no-es-rest">Esto no es REST</h2>

<p>Actualmente, muchos desarrolladores (yo me contaba entre ellos), llaman API REST a cualquier servicio Web que corra sobre HTTP, sirva recursos (objetos o elementos que representan un objeto) o cosas parecidas y use JSON como lenguaje de transferencia de datos.
De estas cosas, s√≥lo la parte de servir recursos (en realidad <em>representaciones</em> de recursos) tiene que ver con una API REST. El estilo arquitectural REST no obliga el uso de HTTP y mucho menos de JSON.</p>

<p>Dada esta tendencia de llamar API REST a cualquier cosa que funcione sobre HTTP, debemos estar de acuerdo en que la mayor√≠a de las API‚Äôs ni siquiera <em>intenta</em> ser REST.
Algunas son RPC (Remote Procedure Call) sobre HTTP simplemente. Otro mal uso que he escuchado es que cualquier cosa que sirva JSON es llamada API REST, pero como ya dijimos el estilo arquitectural REST ni siquiera fuerza el uso de JSON (y no todas las API‚Äôs que sirven XML son SOAP).</p>

<p>Con esto no queremos decir que el que un servicio no sea REST lo haga malo o de mala calidad, de hecho, muchas veces (la mayor√≠a) no se necesita cumplir con las caracter√≠sticas de REST y con cumplir con algunas de las caracter√≠sticas o principios de dise√±o de REST es suficiente.</p>

<p>En art√≠culos posteriores vamos a hablar de las seis caracter√≠sticas que <strong>s√≠</strong> definen una arquitectura REST, las vamos a cambiar un poco del orden tradicional que se explica en la mayor√≠a de los tutoriales (y seguiremos el de la tesis original) para que tenga m√°s sentido la forma en que las explicamos.</p>

<p>Las caracter√≠sticas de las que hablaremos son en cierto modo <em>restricciones</em> (constraints, como lo dice la tesis original): una cosa es definida por las cosas que <em>no</em> puede o <em>no</em> debe hacer.</p>

<h2 id="arquitectura">Arquitectura</h2>

<p>Cuando hablamos de REST (REpresentational State Transfer) estamos hablando se un <strong>estilo de arquitectura</strong>.</p>

<p>La definici√≥n del estilo de arquitectura REST la hizo <a href="https://www.ics.uci.edu/~fielding/">Thomas Fielding</a> en su tesis doctoral, que puedes descargar y leer completa <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm">aqu√≠</a>, en ella explica lo que lo llev√≥ a definirla y dise√±arla tal como es.</p>

<p>Fielding hace la distinci√≥n entre tres conceptos que parecer√≠an lo mismo a simple vista.</p>

<ul>
  <li>
    <p><strong>Estilo de arquitectura o estilo arquitectural</strong>: Es un conjunto de restricciones que limitan c√≥mo los elementos de una arquitectura (componentes del software, conectores y datos) pueden interactuar entre s√≠ y las caracter√≠sticas que deben tener. En la arquitectura de espacios f√≠sicos podemos pensar en los estilos m√°s amplios que a veces escuchamos mencionados: Barroco, Moderno, Post-moderno. En la arquitectura de software, <strong>REST cae en esta categor√≠a</strong>.</p>
  </li>
  <li>
    <p><strong>Dise√±o arquitectural</strong>: Es la aplicaci√≥n de un estilo de arquitectura. Podemos pensar en esto como las gu√≠as que definen c√≥mo una arquitectura se implementar√°. El dise√±o arquitectural en los edificios podr√≠a pensarse en la aplicaci√≥n de las reglas del dise√±o arquitectural a un tipo de edificio espec√≠fico tu catedral o castillo ü§î.</p>
  </li>
  <li>
    <p><strong>Arquitectura</strong>: Fielding la define como una abstracci√≥n del estado de un sistema en un momento determinado. La arquitectura es la concreci√≥n de un dise√±o arquitectural. En el ejemplo de los edificios puedes pensar en esto como en los planos de la catedral barroca.</p>
  </li>
</ul>

<p>Hablando de arquitectura <a href="https://simonbrown.je/">Simon Brown</a>, que es actualmente una da las grandes mentes en el campo de la arquitectura de software, la define como la <em>todo lo relacionado con el dise√±o de un sistema de software, desde la estructura del c√≥digo hasta c√≥mo funciona a alto nivel, pasando por c√≥mo el software es puesto en producci√≥n</em>. Es responsabilidad de la arquitectura definir las siguientes caracter√≠sticas y funciones del sistema:</p>

<ul>
  <li>Tareas que abarquen todo el sistema: Logging, manejo de errores, etc.</li>
  <li>Seguridad</li>
  <li>Rendimiento</li>
  <li>Escalabilidad</li>
  <li>Disponibilidad</li>
  <li>Auditor√≠as y cumplimiento de regulaciones</li>
  <li>Limitaciones del entorno</li>
  <li>Interoperatividad e integraci√≥n con otros sistemas</li>
  <li>Consistencia de soluciones a trav√©s de toda la base de c√≥digo</li>
  <li>Evaluaci√≥n de cumplimiento de los entregables</li>
</ul>

<p>Como podemos ver, la arquitectura de software tiene muchas cosas de preocuparse. Pues bueno, el estilo de arquitectura ayuda a resolver varias de estas preocupaciones predefiniendo algunas cosas la estructura y el comportamiento del sistema mediante las caracter√≠sticas y limitaciones que establece.</p>

<p>¬øQu√© de estas cosas ataca REST? Hablemos de ellas.</p>

<h2 id="cosas-que-rest-intenta-resolver">Cosas que REST intenta resolver</h2>

<p>Todo este embrollo de arquitectura-dise√±o-estilos fue definido con un fin en mente: estudiar los estilos y las caracter√≠sticas de las arquitecturas para poder llegar a la resoluci√≥n de los problemas concretos que los sistemas tienen.</p>

<p>Las cosas que REST intenta ayudar a resolver concretamente son las siguientes.</p>

<h3 id="rendimiento">Rendimiento</h3>

<p>Una de las principales cosas que este estilo de arquitectura quiere atacar es el rendimiento de las aplicaciones. El rendimiento se refiere tanto a la capacidad real como percibida de cumplir con <strong>lo que se espera de un sistema de software</strong> en t√©rminos de velocidad de respuesta.</p>

<p>Esto implica que tanto la aplicaci√≥n como la red (recordemos que siempre estamos hablando de aplicaciones web) debe responder en un tiempo razonable.</p>

<p>Varias de las restricciones y caracter√≠sticas que REST establece est√°n relacionadas directamente con este punto.</p>

<h3 id="facilidad-de-modificaci√≥n">Facilidad de Modificaci√≥n</h3>

<p>Fielding elabora esto como uno de los puntos m√°s grandes que las arquitecturas deben atender. A final de cuentas un sistema no se puede quedar est√°tico, y facilitar el trabajo para nosotros mismos en el futuro o para otras personas deber√≠a ser una prioridad.</p>

<p>Los cinco puntos que Fielding considera que definen la facilidad de modifici√≥n son:</p>

<ul>
  <li>
    <p><strong>Facilidad de evoluci√≥n</strong>. Es la capacidad que tiene un sistema de que sus componentes cambien sin afectar directamente negativamente a los dem√°s y por lo tanto el estado general del sistema.</p>
  </li>
  <li><strong>Extensibilidad</strong>. Es la capacidad de agregar funcionalidades o capacidades a un sistema.</li>
  <li>
    <p><strong>Facilidad de personalizaci√≥n</strong>. Es la capacidad de un elemento de poder adaptarse temporalmente para dar un servicio que no siempre da, sin afectar negativamente el sistema en general.</p>
  </li>
  <li>
    <p><strong>Facilidad de configuraci√≥n</strong>. Se refiere a poder cambiar la configuraci√≥n o modificar un sistema en producci√≥n mediante configuraciones, es decir, sin cambios en el c√≥digo.</p>
  </li>
  <li><strong>Facilidad de reutilizaci√≥n</strong>. Se puede explicar como la capacidad de los componentes de un sistema de ser usados sin modificaciones en otros sistemas.</li>
</ul>

<h3 id="visibilidad">Visibilidad</h3>

<p>La visibilidad es la capacidad de monitorear un componente del sistema e incluso mediar la interacci√≥n entre dos componentes. Este tipo espec√≠fico de visibilidad (recientemente llamado observabilidad), puede mejorar el sistema de muchas maneras como mediante cach√©s, capas intermedias para mejorar la escalabilidad, monitoreo activo y la seguridad al observar la comunicaci√≥n de los componentes y actuar, tal como un firewall lo hace.</p>

<h3 id="portabilidad">Portabilidad</h3>

<p>Uno de los puntos que se necesita resolver de algunas aplicaciones, es que la soluci√≥n pueda correr en diferentes entornos. A esto se refiere la portabilidad para Fielding, que un sistema pueda correr sin cambios en diferentes instalaciones y sin grandes cambios.</p>

<h3 id="escalabilidad">Escalabilidad</h3>

<p>¬øCu√°ntos usuarios al mismo tiempo puede soportar tu aplicaci√≥n? ¬øQu√© pasa si de repente llegan diez veces m√°s usuarios de los que esperabas? La respuesta a estas preguntas est√° directamente relacionada con la escalabilidad de la aplicaci√≥n.</p>

<p>Fielding la define como la capacidad de los componentes de soportar un n√∫mero grande de interacciones, que se ve impactada no s√≥lo por la cantidad sino por la frecuencia de interacciones.</p>

<h3 id="simplicidad">Simplicidad</h3>

<p>Un buen desarrollo debe ser tan simple como sea posible. Si se a√±ade complejidad extra a la innata del problema en cuesti√≥n ser√° m√°s dif√≠cil de mantener.</p>

<p>Estas cuestiones y cosas importantes acerca de todas las aplicaciones son lo que llev√≥ a Fielding a definir REST y a agregar las caracter√≠sticas/restricciones que puso.</p>

<p>Fielding resume tres caracter√≠sticas en lo que el llama simplicidad:</p>

<ul>
  <li><strong>Complejidad</strong>. Es la cantidad de componentes interconectados. Mientras menos sea, mejor.</li>
  <li><strong>Facilidad de comprensi√≥n</strong>. ¬øQu√© tan preparado est√° el sistema para poder ser entendido f√°cilmente?</li>
  <li><strong>Verificabilidad</strong>. ¬øSe puede verificar que la soluci√≥n y los datos que entrega el sistema sean correctos?</li>
</ul>

<h2 id="conclusi√≥n">Conclusi√≥n</h2>

<p>Todas estas caracter√≠sticas y necesidades de un sistema de software de f√°cil mantenimiento son las que llevaron a la creaci√≥n de el estilo arquitectural REST. Sirven para entender por qu√© defini√≥ las 6 restricciones que un sistema REST debe cumplir, pero algo interesante que se menciona a trav√©s de su tesis es que cada una de las decisiones es un intercambio de valor que hay que sopesar.</p>

<p><strong>¬øPor qu√© deber√≠as elegir REST?</strong></p>

<blockquote>
  <p>El estilo arquitectural REST te ayuda a resolver problemas que pueden empezar a dar dolores de cabeza desde el principio, al dar una gu√≠a de c√≥mo deber√≠a comportarse tu aplicaci√≥n para cumplir con las cualidades mencionadas arriba.</p>
</blockquote>

<p>No debemos olvidar que toda selecci√≥n es <strong>necesariamente</strong> un intercambio de valor. Se pierde algo por ganar otra cosa. La pregunta que siempre hay que tener en mente es:</p>

<blockquote>
  <p>¬øQu√© me conviene m√°s en este caso?</p>
</blockquote>

<p>En el siguiente art√≠culo analizaremos la primera restricci√≥n de  REST: la arquitectura cliente-servidor.</p>
:ET